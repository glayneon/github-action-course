---
name: PART3 - CH2 - Trigger when Push all branches except test
on: 
  push:
    tags:
      - v0.*
      - v1.*
      - v2.*
    branches:
      - 'dev'
      - 'stage'
      - 'test-action'
      - 'prod'
    paths-ignore:
      - 'README.md'
      - '.github/workflows/**'
      - 'doc/**'
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout 
      uses: actions/checkout@v2
    - name: Build project
      run: |
        echo "Build Project"
        echo "Branch: $GITHUB_REF"
    - name: Run tests
      run: |
        echo "Run Test"
  deploy:
    needs: build
    runs-on: ubuntu-latest
    steps:
    - name: Deploy to production
      run: |
        echo "Deploying to production server"